{% extends "components/new_base_modal.html" %}
{% load humanize %}
{% load entry_url_identifier %}

{% block modal_content %}
<div {% if is_oob %}hx-swap-oob="true"{% endif %} id="modal_content_template"
     class="modal-box bg-base-100 rounded-xl shadow-2xl w-full max-w-5xl p-0 space-y-0"
     role="dialog" aria-labelledby="modal-title" aria-describedby="modal-description">

  <!-- Enhanced Header with Gradient Background -->
  <div class="bg-gradient-to-r from-primary/10 to-secondary/10 p-6 rounded-t-xl border-b border-base-300">
    <div class="flex justify-between items-start">
      <div class="flex items-center gap-3">
        <div class="p-2 bg-primary/20 rounded-lg">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-primary">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
          </svg>
        </div>
        <div>
          <h2 id="modal-title" class="text-2xl font-bold tracking-tight text-base-content">Entry Details</h2>
          <p id="modal-description" class="text-sm text-base-content/70 mt-1">ID: {{ entry.pk }} â€¢ {{ entry.get_entry_type_display }}</p>
        </div>
      </div>
      
      <!-- Enhanced Status Indicators -->
      <div class="flex flex-col items-end gap-2">
        <div class="flex items-center gap-2">
          <span class="badge badge-lg capitalize font-semibold px-4 py-2
            {% if entry.status == 'approved' %}badge-success
            {% elif entry.status == 'pending' %}badge-warning
            {% elif entry.status == 'rejected' %}badge-error
            {% elif entry.status == 'flagged' %}badge-neutral
            {% else %}badge-ghost{% endif %}">
            {% if entry.status == 'approved' %}
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 mr-1">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
            {% elif entry.status == 'pending' %}
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 mr-1">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
            {% elif entry.status == 'rejected' %}
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 mr-1">
                <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
              </svg>
            {% elif entry.status == 'flagged' %}
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 mr-1">
                <path stroke-linecap="round" stroke-linejoin="round" d="M3 3v1.5M3 21v-6m0 0l2.77-.693a9 9 0 016.208.682l.108.054a9 9 0 006.086.71l3.114-.732a48.524 48.524 0 01-.005-10.499l-3.11.732a9 9 0 01-6.085-.711l-.108-.054a9 9 0 00-6.208-.682L3 4.5M3 15V4.5" />
              </svg>
            {% endif %}
            {{ entry.get_status_display }}
          </span>
        </div>
        
        {% if entry.is_flagged %}
          <span class="badge badge-error badge-sm capitalize flex items-center gap-1">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-3 h-3">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z" />
            </svg>
            Missing Attachments
          </span>
        {% endif %}
      </div>
    </div>
  </div>

  <!-- Main Content -->
  <div class="p-6 space-y-6">

  <!-- Enhanced Info Grid -->
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">

    <!-- Enhanced Expense Card -->
    <div class="bg-gradient-to-br from-base-200 to-base-300 p-6 rounded-xl border border-base-300 shadow-sm hover:shadow-md transition-shadow">
      <div class="flex items-center gap-3 mb-4">
        <div class="p-2 bg-primary/20 rounded-lg">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 text-primary">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
          </svg>
        </div>
        <h3 class="text-lg font-semibold text-base-content">Expense Details</h3>
      </div>
     
      <div class="space-y-4">
        <!-- Description -->
        <div class="flex items-start gap-3">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 text-base-content/60 mt-0.5 flex-shrink-0">
            <path stroke-linecap="round" stroke-linejoin="round" d="M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 01.865-.501 48.172 48.172 0 003.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0012 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018z" />
          </svg>
          <div class="flex-1">
            <span class="text-xs font-medium text-base-content/60 uppercase tracking-wide">Description</span>
            <p class="text-sm text-base-content mt-1">{{ entry.description }}</p>
          </div>
        </div>

        <!-- Amount -->
        <div class="flex items-center gap-3 p-3 bg-base-100 rounded-lg">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 text-success">
            <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5zm-12 0h.008v.008H6V10.5z" />
          </svg>
          <div>
            <span class="text-xs font-medium text-base-content/60 uppercase tracking-wide">Amount</span>
            <p class="text-lg font-bold text-base-content">{{ entry.currency.code }} {{ entry.amount|floatformat:2|intcomma }}</p>
          </div>
        </div>

        <!-- Exchange Rate & Conversion -->
        <div class="grid grid-cols-2 gap-3">
          <div class="p-3 bg-base-100 rounded-lg">
            <span class="text-xs font-medium text-base-content/60 uppercase tracking-wide">Exchange Rate</span>
            <p class="text-sm font-semibold text-base-content mt-1">{{ entry.exchange_rate_used|floatformat:2 }}</p>
          </div>
          <div class="p-3 bg-base-100 rounded-lg">
            <span class="text-xs font-medium text-base-content/60 uppercase tracking-wide">Converted (MMK)</span>
            <p class="text-sm font-semibold text-base-content mt-1">{{ entry.converted_amount|floatformat:2|intcomma }}</p>
          </div>
        </div>

        <!-- Date and Type -->
        <div class="grid grid-cols-2 gap-3">
          <div class="flex items-center gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 text-base-content/60">
              <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5a2.25 2.25 0 002.25-2.25m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5a2.25 2.25 0 012.25 2.25v7.5" />
            </svg>
            <div>
              <span class="text-xs font-medium text-base-content/60 uppercase tracking-wide">Occurred On</span>
              <p class="text-sm text-base-content">{{ entry.occurred_at|date:"j M Y" }}</p>
            </div>
          </div>
          <div class="flex items-center gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 text-base-content/60">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z" />
              <path stroke-linecap="round" stroke-linejoin="round" d="M6 6h.008v.008H6V6z" />
            </svg>
            <div>
              <span class="text-xs font-medium text-base-content/60 uppercase tracking-wide">Type</span>
              <p class="text-sm text-base-content">{{ entry.get_entry_type_display }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Enhanced Submission Card -->
    <div class="bg-gradient-to-br from-base-200 to-base-300 p-6 rounded-xl border border-base-300 shadow-sm hover:shadow-md transition-shadow">
      <div class="flex items-center gap-3 mb-4">
        <div class="p-2 bg-secondary/20 rounded-lg">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 text-secondary">
            <path stroke-linecap="round" stroke-linejoin="round" d="M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z" />
          </svg>
        </div>
        <h3 class="text-lg font-semibold text-base-content">Submission Info</h3>
      </div>
      
      <div class="space-y-4">
        <!-- Submitted By -->
        <div class="flex items-center gap-3 p-3 bg-base-100 rounded-lg">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 text-base-content/60">
            <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z" />
          </svg>
          <div class="flex-1">
            <span class="text-xs font-medium text-base-content/60 uppercase tracking-wide">Submitted By</span>
            <p class="text-sm font-semibold text-base-content mt-1 capitalize">
              {{ entry.submitted_by_team_member.user.username|default:entry.submitted_by_org_member.user.username|default:"-" }}
            </p>
          </div>
        </div>

        <!-- Timeline -->
        <div class="space-y-3">
          <div class="flex items-center gap-3">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 text-base-content/60">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            <div>
              <span class="text-xs font-medium text-base-content/60 uppercase tracking-wide">Created</span>
              <p class="text-sm text-base-content">{{ entry.created_at|date:"j M Y, H:i" }}</p>
            </div>
          </div>
          
          <div class="flex items-center gap-3">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 text-base-content/60">
              <path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99" />
            </svg>
            <div>
              <span class="text-xs font-medium text-base-content/60 uppercase tracking-wide">Last Updated</span>
              <p class="text-sm text-base-content">{{ entry.updated_at|date:"j M Y, H:i" }}</p>
            </div>
          </div>
          
          {% if entry.status_last_updated_at %}
          <div class="flex items-center gap-3">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 text-base-content/60">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            <div>
              <span class="text-xs font-medium text-base-content/60 uppercase tracking-wide">Status Updated</span>
              <p class="text-sm text-base-content">{{ entry.status_last_updated_at|date:"j M Y, H:i" }}</p>
            </div>
          </div>
          {% endif %}
        </div>
      </div>
    </div>

  </div>

  <!-- Full Width Sections -->
  <div class="space-y-6">

    <!-- Enhanced Review Card -->
    {% if entry.last_status_modified_by or entry.status_note %}
    <div class="bg-gradient-to-br from-info/10 to-info/5 p-6 rounded-xl border border-info/20 shadow-sm">
      <div class="flex items-center gap-3 mb-4">
        <div class="p-2 bg-info/20 rounded-lg">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 text-info">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
        </div>
        <h3 class="text-lg font-semibold text-base-content">Review Information</h3>
      </div>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        {% if entry.last_status_modified_by %}
        <div class="flex items-center gap-3 p-3 bg-base-100 rounded-lg">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 text-base-content/60">
            <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z" />
          </svg>
          <div>
            <span class="text-xs font-medium text-base-content/60 uppercase tracking-wide">Reviewed By</span>
            <p class="text-sm font-semibold text-base-content mt-1 capitalize">{{ entry.last_status_modified_by.user.username }}</p>
          </div>
        </div>
        {% endif %}
        
        {% if entry.status_note %}
        <div class="md:col-span-2">
          <div class="flex items-start gap-3 p-3 bg-base-100 rounded-lg">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 text-base-content/60 mt-0.5 flex-shrink-0">
              <path stroke-linecap="round" stroke-linejoin="round" d="M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 01.865-.501 48.172 48.172 0 003.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0012 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018z" />
            </svg>
            <div class="flex-1">
              <span class="text-xs font-medium text-base-content/60 uppercase tracking-wide">Review Note</span>
              <p class="text-sm text-base-content mt-1">{{ entry.status_note }}</p>
            </div>
          </div>
        </div>
        {% endif %}
      </div>
    </div>
    {% endif %}

    <!-- Enhanced Exchange Rate Reference -->
    {% if entry.org_exchange_rate_ref or entry.workspace_exchange_rate_ref %}
    <div class="bg-gradient-to-br from-warning/10 to-warning/5 p-6 rounded-xl border border-warning/20 shadow-sm">
      <div class="flex items-center gap-3 mb-4">
        <div class="p-2 bg-warning/20 rounded-lg">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 text-warning">
            <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5zm-12 0h.008v.008H6V10.5z" />
          </svg>
        </div>
        <h3 class="text-lg font-semibold text-base-content">Exchange Rate References</h3>
      </div>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        {% if entry.org_exchange_rate_ref %}
        <div class="p-3 bg-base-100 rounded-lg">
          <span class="text-xs font-medium text-base-content/60 uppercase tracking-wide">Organization Reference</span>
          <p class="text-sm font-mono text-base-content mt-1">{{ entry.org_exchange_rate_ref.organization_exchange_rate_id }}</p>
        </div>
        {% endif %}
        
        {% if entry.workspace_exchange_rate_ref %}
        <div class="p-3 bg-base-100 rounded-lg">
          <span class="text-xs font-medium text-base-content/60 uppercase tracking-wide">Workspace Reference</span>
          <p class="text-sm font-mono text-base-content mt-1">{{ entry.workspace_exchange_rate_ref.workspace_exchange_rate_id }}</p>
        </div>
        {% endif %}
      </div>
    </div>
    {% endif %}

    <!-- Enhanced Attachments Section -->
    <div class="bg-gradient-to-br from-accent/10 to-accent/5 p-6 rounded-xl border border-accent/20 shadow-sm">
      <div class="flex items-center justify-between mb-4">
        <div class="flex items-center gap-3">
          <div class="p-2 bg-accent/20 rounded-lg">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 text-accent">
              <path stroke-linecap="round" stroke-linejoin="round" d="M18.375 12.739l-7.693 7.693a4.5 4.5 0 01-6.364-6.364l10.94-10.94A3 3 0 1119.5 7.372L8.552 18.32m.009-.01l-.01.01m5.699-9.941l-7.81 7.81a1.5 1.5 0 002.112 2.13" />
            </svg>
          </div>
          <h3 class="text-lg font-semibold text-base-content">Attachments</h3>
          <span class="badge badge-accent badge-sm">{{ entry.attachments.count }} file{{ entry.attachments.count|pluralize }}</span>
        </div>
        
        {% if entry.attachments.count > 0 %}
        <button onclick="document.getElementById('attachments-section').classList.toggle('hidden')" 
                class="btn btn-ghost btn-sm" aria-label="Toggle attachments visibility" aria-expanded="true">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4">
            <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
          </svg>
          Toggle
        </button>
        {% endif %}
      </div>
      
      <div id="attachments-section" class="{% if entry.attachments.count == 0 %}hidden{% endif %}">
        {% include "attachments/index.html" %}
      </div>
    </div>
  </div>

  </div>

  <!-- Enhanced Footer with Actions -->
  <div class="bg-base-200/50 p-6 rounded-b-xl border-t border-base-300">
    <div class="flex justify-between items-center">
      <div class="flex items-center gap-2 text-sm text-base-content/60">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4">
          <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        <span>Last updated: {{ entry.updated_at|date:"j M Y, H:i" }}</span>
      </div>
      
      <div class="flex items-center justify-end gap-3">
        <!-- Quick Actions -->
        <a href="{% entry_update_url entry.entry_type entry %}" 
           hx-get="{% entry_update_url entry.entry_type entry %}"
           hx-target="#modal-placeholder"
           hx-swap="innerHTML"
           class="btn btn-primary btn-sm gap-2 hover:btn-primary-focus transition-all duration-200 shadow-sm hover:shadow-md">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4">
            <path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18v-4.5l1.13-.45a4.5 4.5 0 011.13-1.897L16.863 4.487z" />
          </svg>
          <span class="font-medium">Edit Entry</span>
        </a>
      
        
        <button
          type="button"
          onclick="this.closest('.modal').removeAttribute('open')"
          class="btn btn-outline btn-neutral btn-sm gap-2 hover:btn-neutral-focus transition-all duration-200 border-base-300 hover:border-base-content/20"
          aria-label="Close modal">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
          </svg>
          <span class="font-medium">Close</span>
        </button>
      </div>
    </div>
  </div>
</div>
{% endblock modal_content %}

