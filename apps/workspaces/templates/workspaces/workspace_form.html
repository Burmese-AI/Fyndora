<div x-data="{ open: true }" x-show="open" @keydown.escape.window="open = false">
    <div class="modal modal-open">
      <form 
            class="modal-box max-w-lg bg-white shadow-xl rounded-lg" 
            @click.outside="open = false"
            hx-post="{% url 'create_workspace' organization_id=request.resolver_match.kwargs.organization_id %}"
            hx-target="#workspace-create-modal"
            hx-swap="innerHTML">
        {% csrf_token %}
        <input type="hidden" name="organization_id" value="{{ request.resolver_match.kwargs.organization_id }}">
        <div class="p-8">
          <h2 class="text-2xl font-bold text-gray-800 mb-8">Create Workspace in {{ organization.title }}</h2>

          <div id="form-errors" class="mb-4"></div>

          <div class="mb-6">
            <label for="id_title" class="block text-lg font-medium text-gray-700 mb-2">Title</label>
            {{ form.title.errors }}
            {{ form.title }}
          </div>

          <div class="mb-6">
            <label for="id_description" class="block text-lg font-medium text-gray-700 mb-2">Description</label>
            {{ form.description.errors }}
            {{ form.description }}
          </div>

          <div class="mb-6">
            <label for="id_remittance_rate" class="block text-lg font-medium text-gray-700 mb-2">Remittance Rate (%)</label>
            {{ form.remittance_rate.errors }}
            {{ form.remittance_rate }}
          </div>

          <div class="mb-6">
            <label for="id_start_date" class="block text-lg font-medium text-gray-700 mb-2">Start Date</label>
            {{ form.start_date.errors }}
            {{ form.start_date }}
          </div>

          <div class="mb-6">
            <label for="id_end_date" class="block text-lg font-medium text-gray-700 mb-2">End Date (Optional)</label>
            {{ form.end_date.errors }}
            {{ form.end_date }}
          </div>

          <div class="mb-8">
            <label for="id_status" class="block text-lg font-medium text-gray-700 mb-2">Status</label>
            {{ form.status.errors }}
            {{ form.status }}
          </div>

          <div class="flex justify-end space-x-3">
            <button type="button" class="btn btn-base w-full sm:w-auto" @click="open = false">
              Cancel
            </button>
            <button type="submit" class="btn btn-primary w-full sm:w-auto">
              Create Workspace
            </button>
          </div>
        </div>
      </form>
  
      <!-- background click to close the modal temporariy commented due to low perfomance( figure out later ) -->
      <!-- <div class="modal-backdrop bg-black/50 backdrop-blur-sm" @click="open = false"></div> -->
    </div>
  </div>
  